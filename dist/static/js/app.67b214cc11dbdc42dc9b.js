webpackJsonp([1],{"+UNP":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={baseURL:"http://landa.aosaiban.com/api/atd/",headers:{Accept:"application/json"},timeout:1e3,withCredentials:!1,responseType:"json",responseEncoding:"utf8",maxContentLength:2e3,validateStatus:function(t){return t>=200&&t<300},maxRedirects:5}},"0KiF":function(t,e,n){"use strict";var a=n("VqdP"),s=n("S+5g"),i=n("gyMJ"),o=n("eOoE");e.a={name:"Clock",data:function(){return{currTabComponent:"Location",isLogin:!1,today:new Date,userInfo:{name:""}}},components:{Location:a.a,Count:s.a},created:function(){var t=this;try{window.LandaJS.ready(function(){var e=window.LandaJS.getUserInfo().name,n=window.LandaJS.getAccessToken();Object(o.c)({token:n}),t.userInfo={name:e},Object(i.b)({params:{openid:"1"},success:function(){t.isLogin=!0},fail:function(t){console.error(t)}})})}catch(t){alert(t)}},computed:{isLocation:function(){return"Location"===this.currTabComponent}},methods:{changeTab:function(t){this.currTabComponent!==t&&(this.currTabComponent=t)}}}},"2PZ8":function(t,e){t.exports="data:image/png;base64,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"},"5l3b":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex flex-row flex-between header"},[a("div",{staticClass:"flex flex-row"},[t._m(0),t._v(" "),a("div",{staticClass:"flex flex-between align-start des"},[a("span",{staticClass:"name"},[t._v(t._s(t.userInfo.name))]),t._v(" "),a("span",{staticClass:"age"},[t._v(t._s(t.year)+"/"+t._s(t.month)+"/"+t._s(t.day))])])]),t._v(" "),a("div",{staticClass:"icon icon-calendar",on:{click:t.popShow}})]),t._v(" "),a("div",{staticClass:"dk-wrap flex"},[a("div",{staticClass:"dk-view"},[t.hackReset?[a("van-steps",{attrs:{active:t.dkArr.length-1,direction:"vertical","active-color":"#239aed"}},t._l(t.dkArr,function(e,n){return a("van-step",{key:n},[n===t.dkArr.length-1?a("div",[t._v(t._s(e.text))]):[a("div",[t._v(t._s(0===n?"上班打卡时间":"下班时间打卡")),a("span",{staticClass:"hlight"},[t._v(t._s(e.time))])]),t._v(" "),a("div",[a("span",{staticClass:"icon-location"}),a("span",{staticClass:"hlight"},[t._v(t._s(e.address))])])]],2)}))]:t._e()],2),t._v(" "),a("div",{staticClass:"dk-btn",on:{touchend:t.dk}},[a("div",{staticClass:"circle-bg flex flex-center"},[a("div",{staticClass:"text"},[t._v(t._s(t.click_btn_text))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(t.dkTime))])])])]),t._v(" "),a("Popup",{model:{value:t.dkshow,callback:function(e){t.dkshow=e},expression:"dkshow"}},[a("div",{staticClass:"dk-info flex align-stretch"},[a("div",{staticClass:"content flex flex-center"},[a("img",{attrs:{src:n("2PZ8")}}),t._v(" "),a("div",[t._v("打卡成功")])]),t._v(" "),a("div",{staticClass:"footer flex flex-center",on:{click:t.hiddenDialog}},[a("img",{attrs:{src:n("G6LU")}})])])]),t._v(" "),a("Popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"flex flex-row flex-between pop-btns"},[a("div",{staticClass:"btn-cancel",on:{click:t.popHidden}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"title",staticStyle:{fontSize:".32rem"}},[t._v("请选择查看时间")]),t._v(" "),a("div",{staticClass:"btn-success",staticStyle:{opacity:"0"}},[t._v("确定")])]),t._v(" "),a("div",{staticClass:"datemap flex"},[a("div",{staticClass:"week"},[a("div",[t._v("日")]),t._v(" "),a("div",[t._v("一")]),t._v(" "),a("div",[t._v("二")]),t._v(" "),a("div",[t._v("三")]),t._v(" "),a("div",[t._v("四")]),t._v(" "),a("div",[t._v("五")]),t._v(" "),a("div",[t._v("六")])]),t._v(" "),a("div",{staticClass:"month-scroll"},[a("List",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.monthes,function(e,n){return a("div",{key:n,staticClass:"curr-month",class:"m-shape-"+e.shape},[a("div",{staticClass:"title"},[t._v(t._s(e.year)+"年"+t._s(e.month)+"月")]),t._v(" "),a("div",{staticClass:"date"},t._l(e.dates,function(n,s){return a("div",{key:s,staticClass:"flex",on:{click:function(a){t.showTheDay(e.year,e.month,n.value)}}},[a("div",{staticClass:"date-value",class:"color"+n.color},[t._v("\n                  "+t._s(n&&null!==n.value?n.value:"")+"\n                ")]),t._v(" "),a("div",{staticClass:"date-des"},[t._v("\n                  "+t._s(n&&null!==n.des?n.des:"")+"\n                ")])])}))])}))],1)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img"},[a("img",{attrs:{src:n("hc60")}})])}]},"7oU+":function(t,e){},"9IqA":function(t,e,n){"use strict";var a=n("Xxa5"),s=n.n(a),i=n("exGp"),o=n.n(i),c=n("//Fk"),r=n.n(c),l=n("woOf"),u=n.n(l),f=n("Rv11"),d=(n.n(f),n("TMdk")),v=n.n(d),h=n("tLo2"),g=(n.n(h),n("blRl")),p=n.n(g),w=n("xT6B"),m=n("gyMJ"),C={year:"1999",month:"1"},D={normalDays:"暂无",lateDays:0,earlyDays:0,absentDays:0};e.a={name:"clock-count",components:{Popup:p.a,Picker:v.a},data:function(){return{show:!1,date:C,tempDate:C,theData:u()({},D)}},created:function(){this.date=Object(w.b)(),this.tempDate=Object(w.b)(),this.yearRange=[this.date.year+10,this.date.year-10],this.getTheData(this.date.year,this.date.month)},computed:{years:function(){for(var t=this.yearRange[1],e=this.yearRange[0],n=this.date.year,a=void 0,s=[],i=t;i<=e;i++)i===n&&(a=i-t),s.push(i+"年");return[{values:s,defaultIndex:a}]},month:function(){for(var t=[],e=this.date.month,n=void 0,a=1;a<=12;a++)a===e&&(n=a-1),t.push(a+"月");return[{values:t,defaultIndex:n}]}},methods:{getTheData:function(t,e){var n=this;return new r.a(function(a,s){Object(m.d)({params:{year:t,month:e},success:function(t){var e=t.normalDays,s=t.lateDays,i=t.earlyDays,o=t.absentDays;n.theData={normalDays:e,lateDays:s,earlyDays:i,absentDays:o},a(!0)},fail:function(t){t?(n.$toast({message:t,forbidClick:!0,duration:1500}),n.theData=u()({},D),a(!0)):(n.$toast({message:"请求失败",forbidClick:!0,duration:1500}),a(!1))}})})},onYChange:function(t,e){this.tempDate.year=e[0].replace(/[^\d]/g,"")},onMChange:function(t,e){this.tempDate.month=e[0].replace(/[^\d]/g,"")},cancelPop:function(){console.log("已取消选择"),this.show=!1},setDate:function(){var t=this;return o()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("设置成功"),e.next=3,t.getTheData(t.tempDate.year,t.tempDate.month);case 3:n=e.sent,n&&(t.show=!1,t.date=u()({},t.tempDate));case 5:case"end":return e.stop()}},e,t)}))()},showPop:function(){console.log("弹窗"),this.show=!0}}}},"Bko/":function(t,e){},DOfO:function(t,e){},G6LU:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAC+UlEQVRYhcXZO2gVWRzH8U+Gq4KrBIwWYtTCRRG00hTaaWcQ3UVQdFPIbqHrq7aQWGhjr+y6yoLgrtlqUdF02lloLLRSwWojNkmRuGuRQLCYMzKZ+zpz7+TuD24x5/wf3zuPM///mb5vb03rQAmGsA+7sRUb8E2Y/w8f8A4TeIoXWCibqFbSfhBn8QM2trBbgTXYiSNh7B/8gRuYjE2YRNoNhMDvcbENXDNtDL7vQ6yBqgCP4g3OYHkHYEUtD7He4Fg741aANfyCv7C2ArCi1mIs5Gh6qzUDXIm/cbp6rjqdDrlWNppsBFjDPRxcQqiiDoacdWeyEeB1HFpqogY6FHIvUhHwGE71BKexTuF4fiAPOKDBP/gfdB3rsoM84FVL87SW1RpcyQ4ywE34KcJ5FN9htoPEs8H3coTtj4HpK+DPWBbh+Br3cUA5yNngcx+vIuyXBSZJ+I1EJrqDPXhWAnIm2D4Lvncic40gyaqSwUinfowXIGfawA3n4MZDjBgNYijB/kiHZpDDTSC7gcu0L8Gukk4xkFXAwe4E2zpwbAVZFRxsq2F9h855yOwhGA7jVcDB+hpWdxGAekjYi8e6g4PVsRV1jPraHHekBJ+6jFG858quk630KcHHCuHGlVsn2+ljgrcVwvWLXydj9DbBywrhMlUFOZFIm+oq4aqEfJrgufhGuuwi3A3kJF4k0u2Iu5FOJ0vAFSH3Bt/YyukuFrJ18AbmIpx24HAJuDzkY2n3tjnCfi4wfW3zJnFb2vG30pU2863Uj4eRtr8HpkU9ySg62uqqWNO4lB0khYlzPcep1wW5E1V8F4/hZk9xFus3/JkfaFQsXMCDnuAs1gOcLw42ApyTdvfjS02U06OQs24laVZufZYuJ7243DfxfchZp1b14Lx0a+w4pqrnMoUTIcd8M6OYgnUM2/GruMW8neZCrO3SLbeWiq2op6Sd/hZck+7gl9WH4LslxIq6Kn1dfobYL21bt0ob7VVh/l/pm+CdtJx7osPPEF8A4XW+dPdyWkEAAAAASUVORK5CYII="},GDYv:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLogin?[n("keep-alive",[n(t.currTabComponent,{ref:"child",tag:"component",attrs:{today:t.today,userInfo:t.userInfo}})],1)]:t._e(),t._v(" "),n("div",{staticClass:"foot-tab flex flex-row align-end"},[n("div",{staticClass:"flex flex-center flex-item-1",class:{"foot-tab-active":t.isLocation},on:{click:function(e){t.changeTab("Location")}}},[n("div",{staticClass:"icon icon-location"}),t._v(" "),n("div",{staticClass:"text"},[t._v("打卡")])]),t._v(" "),n("div",{staticClass:"flex flex-center flex-item-1",class:{"foot-tab-active":!t.isLocation},on:{click:function(e){t.changeTab("Count")}}},[n("div",{staticClass:"icon icon-count"}),t._v(" "),n("div",{staticClass:"text"},[t._v("统计")])])])],2)},s=[]},M93x:function(t,e,n){"use strict";function a(t){n("7oU+")}var s=n("YKnb"),i=n("hwd7"),o=n("QAAC"),c=a,r=Object(o.a)(s.a,i.a,i.b,!1,c,null,null);e.a=r.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("H2VA"),s=(n.n(a),n("0vRA")),i=n.n(s),o=n("ykdI"),c=(n.n(o),n("px83")),r=n.n(c),l=n("GKy3"),u=(n.n(l),n("4vvA")),f=n.n(u),d=n("7+uW"),v=n("M93x"),h=n("Bko/"),g=(n.n(h),n("PoLO")),p=(n.n(g),n("gyMJ"));d.default.use(i.a).use(r.a).use(f.a),Object(p.e)(d.default.prototype),new d.default({el:"#app",render:function(t){return t(v.a)}})},OE43:function(t,e){},PoLO:function(t,e){},"S+5g":function(t,e,n){"use strict";var a=n("9IqA"),s=n("lmOx"),i=n("QAAC"),o=Object(i.a)(a.a,s.a,s.b,!1,null,null,null);e.a=o.exports},VqdP:function(t,e,n){"use strict";function a(t){n("vWiY")}var s=n("bH5M"),i=n("5l3b"),o=n("QAAC"),c=a,r=Object(o.a)(s.a,i.a,i.b,!1,c,null,null);e.a=r.exports},YKnb:function(t,e,n){"use strict";var a=n("sEg0");e.a={components:{Clock:a.a}}},Z1Uz:function(t,e,n){"use strict";function a(t,e,n){t.splice(n,0,e)}e.a=a},bH5M:function(t,e,n){"use strict";var a=n("pFYg"),s=n.n(a),i=n("//Fk"),o=n.n(i),c=n("Xxa5"),r=n.n(c),l=n("woOf"),u=n.n(l),f=n("exGp"),d=n.n(f),v=n("cnGM"),h=(n.n(v),n("S6j6")),g=n.n(h),p=n("Mcfu"),w=(n.n(p),n("r9aq")),m=n.n(w),C=n("tLo2"),D=(n.n(C),n("blRl")),A=n.n(D),b=n("xT6B"),k=n("Z1Uz"),x=n("gyMJ"),y=[{text:"打卡记录时间和位置"}];e.a={name:"clock-location",props:["today","userInfo"],data:function(){return{dkArr:[].concat(y),show:!1,monthes:[],loading:!1,finished:!1,dkshow:!1,currTime:new Date,myDay:"",hackReset:!0}},components:{Popup:A.a,List:m.a,Cell:g.a},created:function(){var t=this;this.currTime=new Date,this.timerId=setInterval(function(){t.currTime=new Date},1e3),this.myDay=new Date(this.today.getTime()),this.getData(this.myDay.getTime()),this.getLocation()},computed:{dkTime:function(){return Object(b.a)(this.currTime)},click_btn_text:function(){switch(this.dkArr.length){case 1:return"上班打卡";case 2:return"下班打卡";case 3:return"今日结束"}},year:function(){return this.myDay.getFullYear()},month:function(){var t=this.myDay.getMonth()+1;return t>9?t:"0"+t},day:function(){var t=this.myDay.getDate();return t>9?t:"0"+t}},methods:{stepReset:function(){var t=this;this.hackReset=!1,this.$nextTick(function(){t.hackReset=!0})},showTheDay:function(t,e,n){var a=new Date(t,e-1,n).getTime();this.myDay=new Date(a),this.getData(a),this.popHidden()},getData:function(t,e){var n=this,a=void 0;a=e?t:Object(b.d)(t),Object(x.c)({params:{queryDate:a},success:function(t){n.dkArr=[].concat(y),n.stepReset();for(var e=t.data,a=null,s=null,i=0;i<e.length;i++){var o=e[i],c=o.checkinAt,r=o.location,l=o.type;if(a||0!==l)if(s||1!==l){if(a&&s)break}else s={checkinAt:c,location:r,type:l};else a={checkinAt:c,location:r,type:l}}a&&n.step(a.checkinAt,a.location,a.type),a&&s&&n.step(s.checkinAt,s.location,s.type),console.log(t)},fail:function(t){console.error(t)}})},checkin:function(t){var e=this;Object(x.a)({params:t,success:function(){Object(x.c)({params:{queryDate:Object(b.d)(Date.now())},success:function(t){var n=t.data[0],a=n.checkinAt,s=n.location,i=n.type;e.step(a,s,i),console.log(t)},fail:function(t){console.error(t)}})},fail:function(t){console.error(t)}})},step:function(t,e,n){var a=new Date(t),s=Object(b.a)(a);Object(k.a)(this.dkArr,{time:s,address:e},n),this.stepReset(),this.dkArr.length>2&&(this.dkArr[2]={text:"今日已完成签到"})},dk:function(){var t=this;return d()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.geolocation){e.next=2;break}return e.abrupt("return",t.$toast({message:"无高德组件",forbidClick:!0,duration:1500}));case 2:if(!(t.dkArr.length>2)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=5,e.next=8,t.getLocation();case 8:return n=e.sent,e.next=11,t.getImage();case 11:a=e.sent,n&&t.checkin(u()({},n,{image:a})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),t.$toast({message:"打卡失败",forbidClick:!0,duration:1500});case 18:case"end":return e.stop()}},e,t,[[5,15]])}))()},getImage:function(){var t=this;return new o.a(function(e,n){try{e("")}catch(n){t.$toast(n),e(!1)}})},getNativeXY:function(){var t=this;return new o.a(function(e,n){try{window.LandaJS.requestGeo(function(t){e([t.coords.longitude,t.coords.latitude])})}catch(n){t.$toast(n),e(!1)}})},getLocation:function(){var t=this;return d()(r.a.mark(function e(){var n,a,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNativeXY();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return a={},e.next=9,t.getGDlnglat(n);case 9:return s=e.sent,e.abrupt("return",new o.a(function(e,n){window.geolocation.getAddress(s,function(n,i){if("complete"!==n)throw e(!1),new Error("获取位置失败："+i.message);a.location=i.regeocode.formattedAddress,a.lat=s[1],a.lng=s[0],a.type=t.dkArr.length-1,e(a)})}));case 11:case"end":return e.stop()}},e,t)}))()},getGDlnglat:function(t){return new o.a(function(e,n){window.AMap.convertFrom(t,"gps",function(t,n){if("complete"!==t)throw new Error("转换失败："+n.info);e([n.locations[0].lng,n.locations[0].lat])})})},showDialog:function(){this.dkshow=!0},hiddenDialog:function(){this.dkshow=!1},popShow:function(){this.show=!0},popHidden:function(){this.show=!1},onLoad:function(){var t=this;setTimeout(function(){console.log(t);for(var e=0;e<3;e++){var n=t.today.getMonth()+1-e,a=t.today.getFullYear(),i=void 0;n<1&&(n+=12,a-=1),t.today.getMonth()+1===n&&t.today.getFullYear()===a?(console.log(s()(t.today.getDate())),i=t.getDates({year:a,month:n,color1:[24],des:[{value:t.today.getDate(),des:"今天"}]})):i=t.getDates({year:a,month:n});var o=i.length>35?"big":"small";t.monthes.push({year:a,month:n,dates:i,shape:o})}t.loading=!1,t.monthes.length>=3&&(t.finished=!0)},500)},getDates:function(t){var e=t.year,n=t.month,a=t.des,s=t.color1,i=t.color2,o=new Date(e,n-1,1),c=o.getDay(),r=Object(b.c)(o),l=[];if(c)for(var u=0;u<c;u++)l.push({value:""});for(var f=1;f<=r;f++){var d={value:f,des:"",color:"0"};if(a&&a.length>0){for(var v=0;v<a.length;v++)if(a[v].value===f){d.des=a[v].des;break}}else d.des=null;s&&s.length>0&&s.indexOf(f)>-1?(d.color="1",l.push(d)):i&&i.length>0&&i.indexOf(f)>-1?(d.color="2",l.push(d)):l.push(d)}return console.log(l),l}}}},dCJn:function(t,e){},dCOM:function(t,e){},eOoE:function(t,e,n){"use strict";function a(t){v.token=t}function s(t){v.corp_key=t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.token&&a(t.token),t.corp_key&&s(t.corp_key)}e.c=i,n.d(e,"a",function(){return g}),n.d(e,"b",function(){return p});var o=n("//Fk"),c=n.n(o),r=n("mtWM"),l=n.n(r),u=n("+UNP"),f=n("mw3O"),d=n.n(f),v={corp_key:"1",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJjYjkwYjdhZGEwMTA0NDc0OGY1MjIwMzJkNjJmMDYxZiIsInVuaW9uaWQiOiJjYjkwYjdhZGEwMTA0NDc0OGY1MjIwMzJkNjJmMDYxZiIsImlzcyI6ImxhbmRhIiwiYXVkIjoiTEFOREFfTUFTX1NTTyIsImV4cCI6MTUyOTgzNDE3NCwibmJmIjoxNTI5NjYxMzc0fQ.hYpA4pU8T6oLJ4TVjMFg3Uz1kA3fE8Sh5VHY554trCw"},h=l.a.create(u.a),g=function(t,e){var n=e?d.a.stringify(e,{arrayFormat:"brackets"}):null,a=void 0;return a=n?t+"?"+n:t,new c.a(function(t,e){h.get(a,{headers:v}).then(function(n){200!==n.status?e("网络出错"):"40000"!==n.data.errcode?e(n.data.errmsg):t(n.data.data)}).catch(function(){e("请求出错")})})},p=function(t,e){return new c.a(function(n,a){h.post(t,e,{headers:v}).then(function(t){200!==t.status?a("网络出错"):"40000"!==t.data.errcode?a(t.data.errmsg):n(t.data.data)}).catch(function(){a("请求出错")})})}},gyMJ:function(t,e,n){"use strict";function a(t){l=t}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return r}),e.e=a;var s=n("eOoE"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params?t.params:{};console.log(l),l.$toast.loading({mask:!0,forbidClick:!0,duration:0,message:"加载中"}),Object(s.b)("/app/login",e).then(function(e){Object(s.c)({token:e.access_token}),t.success&&t.success(e),setTimeout(function(){l.$toast.clear()},500)}).catch(function(e){t.fail&&t.fail(e),setTimeout(function(){l.$toast.clear()},500)})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params?t.params:{};l.$toast.loading({mask:!0,forbidClick:!0,duration:0,message:"加载中"}),Object(s.b)("/app/checkin",e).then(function(e){t.success&&t.success(e),setTimeout(function(){l.$toast.clear()},500)}).catch(function(e){t.fail&&t.fail(e),setTimeout(function(){l.$toast.clear()},500)})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params?t.params:{};l.$toast.loading({mask:!0,forbidClick:!0,duration:0,message:"加载中"}),Object(s.a)("/app/records",e).then(function(e){t.success&&t.success(e),setTimeout(function(){l.$toast.clear()},500)}).catch(function(e){t.fail&&t.fail(e),setTimeout(function(){l.$toast.clear()},500)})},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.params?t.params:{};l.$toast.loading({mask:!0,forbidClick:!0,duration:0,message:"加载中"}),Object(s.a)("/app/stat",e).then(function(e){t.success&&t.success(e),setTimeout(function(){l.$toast.clear()},500)}).catch(function(e){t.fail&&t.fail(e),setTimeout(function(){l.$toast.clear()},500)})},l=void 0},hc60:function(t,e,n){t.exports=n.p+"static/img/avatar_03.867b675.png"},hwd7:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Clock")],1)},s=[]},itIU:function(t,e){},lmOx:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"flex flex-row flex-center time-picker-wrap"},[n("div",[t._v(t._s(t.date.year)+"年"+t._s(t.date.month)+"月")]),t._v(" "),n("div",{staticClass:"btn-ar-down",on:{click:t.showPop}})]),t._v(" "),n("div",{staticClass:"flex flex-row flex-between show-wrap bg-blue day-count"},[n("div",[t._v("正常考勤")]),t._v(" "),n("div",[n("span",{staticClass:"num"},[t._v(t._s(t.theData.normalDays))]),t._v("天")])]),t._v(" "),n("div",{staticClass:"flex flex-row flex-between no-clock-wrap"},[n("div",{staticClass:"no-clock-cell flex flex-between"},[n("div",{staticClass:"title"},[t._v("迟到")]),t._v(" "),n("div",{staticClass:"num"},[t._v(t._s(t.theData.lateDays)+"次")])]),t._v(" "),n("div",{staticClass:"v-line"}),t._v(" "),n("div",{staticClass:"no-clock-cell flex flex-between"},[n("div",{staticClass:"title"},[t._v("早退")]),t._v(" "),n("div",{staticClass:"num"},[t._v(t._s(t.theData.earlyDays)+"次")])]),t._v(" "),n("div",{staticClass:"v-line"}),t._v(" "),n("div",{staticClass:"no-clock-cell flex flex-between"},[n("div",{staticClass:"title"},[t._v("缺卡")]),t._v(" "),n("div",{staticClass:"num"},[t._v(t._s(t.theData.absentDays)+"次")])])]),t._v(" "),n("Popup",{attrs:{position:"bottom"},on:{"click-overlay":t.cancelPop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"flex flex-row flex-between pop-btns"},[n("div",{staticClass:"btn-cancel",on:{click:t.cancelPop}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"btn-success",on:{click:t.setDate}},[t._v("确定")])]),t._v(" "),n("div",{staticClass:"pickers flex flex-row flex-center"},[n("Picker",{attrs:{columns:t.years},on:{change:t.onYChange}}),t._v(" "),n("Picker",{attrs:{columns:t.month},on:{change:t.onMChange}})],1)])],1)},s=[]},sEg0:function(t,e,n){"use strict";function a(t){n("dCJn")}var s=n("0KiF"),i=n("GDYv"),o=n("QAAC"),c=a,r=Object(o.a)(s.a,i.a,i.b,!1,c,null,null);e.a=r.exports},vWiY:function(t,e){},xL5C:function(t,e){},xT6B:function(t,e,n){"use strict";function a(){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1}}function s(t){return t.setMonth(t.getMonth()+1),t.setDate(0),t.getDate()}function i(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return""+n+(a>9?a:"0"+a)+(s>9?s:"0"+s)}function o(t){var e=t.getHours(),n=t.getMinutes(),a=t.getSeconds();return(e>9?e:"0"+e)+":"+(n>9?n:"0"+n)+":"+(a>9?a:"0"+a)}e.b=a,e.c=s,e.d=i,e.a=o},y0N0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.67b214cc11dbdc42dc9b.js.map